.composer-container {
  @apply relative max-w-4xl mx-auto w-full z-20;
}

.composer-wrapper {
  @apply relative bg-background/80 backdrop-blur-xl border border-border/50 rounded-[2rem] shadow-2xl transition-all duration-300 overflow-hidden;
  box-shadow: 
    0 0 0 1px oklch(1 0 0 / 0.05),
    0 20px 50px -10px oklch(0 0 0 / 0.3),
    0 0 20px oklch(from var(--primary) l c h / 0.05);
}

.composer-wrapper:focus-within {
  @apply ring-1 ring-primary/30 border-primary/20;
  box-shadow: 
    0 0 0 1px oklch(from var(--primary) l c h / 0.1),
    0 30px 60px -15px oklch(0 0 0 / 0.4),
    0 0 30px oklch(from var(--primary) l c h / 0.1);
}

.composer-wrapper.listening {
  @apply border-red-500/30 ring-1 ring-red-500/20;
  box-shadow: 0 0 40px -10px oklch(0.63 0.26 29 / 0.2); /* Approx red-500 */
}

.composer-input-area {
  @apply relative flex flex-col min-h-[60px] px-2;
}

.composer-textarea {
  @apply w-full bg-transparent border-0 px-4 py-4 text-base placeholder:text-muted-foreground/50 focus-visible:ring-0 resize-none max-h-[300px];
  scrollbar-width: thin;
  scrollbar-color: var(--muted) transparent;
}

.composer-textarea::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.composer-textarea::-webkit-scrollbar-track {
  background: transparent;
}

.composer-textarea::-webkit-scrollbar-thumb {
  background-color: var(--muted);
  border-radius: 9999px;
}

.composer-footer {
  @apply flex items-center justify-between px-3 pb-3 pt-1;
}

.composer-tools {
  @apply flex items-center gap-1;
}

.tool-button {
  @apply p-2.5 rounded-xl text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all duration-200 hover:scale-105 active:scale-95;
}

.tool-button.active {
  @apply text-red-500 bg-red-500/10 animate-pulse;
}

.send-button-wrapper {
  @apply relative;
}

.composer-send-button {
  @apply h-10 w-10 rounded-xl bg-primary text-primary-foreground flex items-center justify-center shadow-lg transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 disabled:shadow-none;
  box-shadow: 
    0 4px 6px -1px oklch(0 0 0 / 0.1),
    0 2px 4px -1px oklch(0 0 0 / 0.06);
}

.composer-send-button:hover:not(:disabled) {
  box-shadow: 
    0 10px 15px -3px oklch(from var(--primary) l c h / 0.25),
    0 4px 6px -2px oklch(from var(--primary) l c h / 0.1);
}

.composer-stop-button {
  @apply h-10 w-10 rounded-xl bg-destructive text-destructive-foreground flex items-center justify-center shadow-lg transition-all duration-300 hover:scale-105;
  box-shadow: 
    0 4px 6px -1px oklch(0 0 0 / 0.1),
    0 2px 4px -1px oklch(0 0 0 / 0.06);
}

.composer-stop-button:hover {
  box-shadow: 
    0 10px 15px -3px oklch(from var(--destructive) l c h / 0.25),
    0 4px 6px -2px oklch(from var(--destructive) l c h / 0.1);
}